<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hiraya Task</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Base styles for dark mode and font - STRICTLY COPIED */
        body {
            font-family: 'Montserrat', sans-serif; /* Updated font-family as requested */
            background: #000000; /* Deep black base - STRICTLY COPIED */
            color: #ffffff; /* White text for general content - STRICTLY COPIED */
            margin: 0;
            padding: 2rem;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden; /* Prevent horizontal scroll on small screens */
        }

        /* Background glowing particles effect - STRICTLY COPIED */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 80%, rgba(0, 255, 127, 0.1) 0%, transparent 50%), /* Green glow - STRICTLY COPIED OPACITY */
                radial-gradient(circle at 80% 20%, rgba(0, 191, 255, 0.1) 0%, transparent 50%), /* Blue glow - STRICTLY COPIED OPACITY */
                radial-gradient(circle at 40% 40%, rgba(173, 255, 47, 0.08) 0%, transparent 50%); /* Yellow-green glow - STRICTLY COPIED OPACITY */
            pointer-events: none;
            z-index: -1;
            /* Animation retained as it complements the effect and wasn't part of the strict snippet */
            animation: backgroundGlow 15s infinite alternate; 
        }

        @keyframes backgroundGlow {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* --- Top Navigation (acting as header) - STRICTLY COPIED header snippet rules --- */
        .top-nav {
            background: rgba(18, 18, 18, 0.9); /* STRICTLY COPIED */
            backdrop-filter: blur(20px); /* STRICTLY COPIED */
            padding: 1rem 2rem; /* STRICTLY COPIED */
            display: flex; /* STRICTLY COPIED */
            justify-content: space-between; /* STRICTLY COPIED */
            align-items: center; /* STRICTLY COPIED */
            border-bottom: 1px solid rgba(0, 255, 127, 0.2); /* STRICTLY COPIED */
            position: sticky; /* STRICTLY COPIED */
            top: 0; /* STRICTLY COPIED */
            z-index: 100; /* STRICTLY COPIED */

            /* Removed properties not present in the strict 'header' snippet */
            /* margin-bottom: 2.5rem; */ 
            /* border-radius: 15px; */
            /* box-shadow: 0 4px 30px rgba(0, 255, 127, 0.1); */
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .nav-icon-link {
            color: #C9D1D9; /* Light text color */
            font-size: 1.3rem;
            text-decoration: none;
            transition: color 0.3s ease, transform 0.3s ease;
            padding: 0.5rem;
            border-radius: 8px;
            width: 40px; /* Fixed width */
            height: 40px; /* Fixed height */
            background: rgba(0, 255, 127, 0.1); /* Background from image */
            border: 2px solid rgba(0, 255, 127, 0.3); /* Border from image */
            border-radius: 8px; /* Rounded corners from image */
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        .nav-icon-link:hover {
            background: rgba(0, 255, 127, 0.2); /* Hover background from image */
            border-color: #00ff7f; /* Hover border color from image */
            transform: translateY(-2px); /* Slight lift on hover */
            box-shadow: 0 8px 25px rgba(0, 255, 127, 0.3); /* Hover shadow from image */
            color: #00ff7f; /* Neon green on hover */
            text-shadow: 0 0 15px rgba(0, 255, 127, 0.6); /* Glow effect */
        }

        /* Specific icon color for back and home */
        .nav-icon-link .fas {
            color: #00ff7f; /* Neon green for the icons themselves */
        }


        .profile-pic-nav {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 2px solid #00ff7f; /* Neon green border */
            box-shadow: 0 0 10px rgba(0, 255, 127, 0.4); /* Subtle glow */
            transition: transform 0.3s ease;
            display: flex; /* Added to center the icon */
            justify-content: center; /* Center the icon */
            align-items: center; /* Center the icon */
            background-color: #000; /* Black background for blank profile */
        }
        .profile-pic-nav:hover {
            transform: scale(1.05);
        }
        /* Style for the blank profile icon */
        .profile-pic-nav .fas {
            font-size: 24px; /* Adjust size as needed */
            color: #fff; /* White color for the blank profile icon */
        }


        .player-stats {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 500;
            color: #00bfff; /* Neon blue for stats */
            text-shadow: 0 0 10px rgba(0, 191, 255, 0.5);
        }

        .xp-bar {
            width: 180px;
            height: 12px;
            background-color: rgba(0, 191, 255, 0.1); /* Light blue transparent background */
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid rgba(0, 191, 255, 0.3);
            box-shadow: inset 0 0 8px rgba(0, 191, 255, 0.2);
        }

        .xp-fill {
            width: 0%; /* Initial width 0% */
            height: 100%;
            background: linear-gradient(90deg, #00bfff, #00ff7f); /* Blue to green neon gradient */
            border-radius: 6px;
            transition: width 0.5s ease-out; /* Smooth XP bar transition */
        }

        /* --- Main Container & Layout --- */
        .container-wrapper {
            max-width: 1200px;
            margin: auto;
            padding: 0 1rem; /* Added padding for smaller screens */
        }

        .page-header {
            text-align: center;
            margin-bottom: 3.5rem;
            padding: 1rem;
        }

        .main-title {
            font-size: 3.5rem;
            font-weight: 800;
            /* Gradient and text-shadow retained to match "Hiraya" image and complement overall theme */
            background: linear-gradient(90deg, #33ff66, #00ffd0); /* Green to turquoise gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 15px rgba(51, 255, 102, 0.8), 0 0 25px rgba(0, 255, 208, 0.6); /* Adjusted glow for more intensity and color blend */
            margin: 0;
            letter-spacing: 2px;
            animation: textGlow 2s infinite alternate; /* Pulsing text glow */
        }

        @keyframes textGlow {
            0% { text-shadow: 0 0 15px rgba(51, 255, 102, 0.8), 0 0 25px rgba(0, 255, 208, 0.6); }
            100% { text-shadow: 0 0 20px rgba(51, 255, 102, 1), 0 0 30px rgba(0, 255, 208, 0.8); }
        }

        .page-header p {
            font-size: 1.2rem;
            color: #8B949E;
            margin-top: 0.5rem;
            text-shadow: 0 0 8px rgba(0, 255, 127, 0.2);
        }

        .container {
            display: flex;
            gap: 2.5rem;
            flex-wrap: wrap; /* Allow columns to wrap on smaller screens */
        }

        .left-column {
            flex: 1; /* Make left column take full width as right column is removed */
            min-width: 100%; /* Ensure it takes full width */
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 1.8rem;
            border-bottom: 2px solid rgba(0, 255, 127, 0.3); /* Neon line */
            padding-bottom: 0.8rem;
            text-shadow: 0 0 15px rgba(0, 255, 127, 0.4);
            letter-spacing: 0.5px;
        }

        /* --- Quest Progress Sections (New) --- */
        .quest-progress-section {
            background: rgba(10, 10, 20, 0.7);
            border: 1px solid rgba(0, 255, 127, 0.3);
            border-radius: 18px;
            padding: 2rem;
            margin-bottom: 3.5rem; /* Space between sections */
            backdrop-filter: blur(12px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .quest-progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .quest-progress-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #00ff7f; /* Neon green for quest titles */
            text-shadow: 0 0 10px rgba(0, 255, 127, 0.5);
        }

        .cooldown-timer {
            font-size: 0.9rem;
            color: #FFD700; /* Gold color for timer */
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
        }

        .quest-progress-bar {
            width: 100%;
            height: 15px; /* Thicker bar */
            background-color: rgba(0, 191, 255, 0.1);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(0, 191, 255, 0.3);
            box-shadow: inset 0 0 8px rgba(0, 191, 255, 0.2);
            margin-bottom: 1rem;
        }

        .quest-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00bfff, #00ff7f); /* Blue to green neon gradient */
            border-radius: 8px;
            transition: width 0.5s ease-out;
        }

        .quest-progress-text {
            text-align: right;
            font-size: 0.95rem;
            color: #8B949E;
            margin-bottom: 1.5rem;
        }

        .claim-button {
            display: block;
            width: 100%; /* Default to 100% */
            max-width: 50%; /* Trimmed to half width */
            margin-left: auto; /* Center the button */
            margin-right: auto; /* Center the button */
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 12px;
            background: linear-gradient(45deg, #00ff7f, #adff2f); /* Green to yellow-green gradient */
            color: #000; /* Black text for contrast */
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(0, 255, 127, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .claim-button:hover:not(:disabled) {
            background: linear-gradient(45deg, #adff2f, #00ff7f); /* Reverse gradient on hover */
            box-shadow: 0 0 30px rgba(0, 255, 127, 0.8), 0 0 15px rgba(173, 255, 47, 0.6);
            transform: translateY(-2px);
        }

        .claim-button:disabled {
            background: #30363D;
            color: #6A737D;
            cursor: not-allowed;
            box-shadow: none;
        }

        .quest-badge-reward {
            margin-top: 0.5rem; /* Reduced margin to trim space */
            margin-bottom: 0.5rem; /* Reduced margin to trim space */
            padding: 0.5rem; /* Reduced padding */
            text-align: center;
            min-height: 100px; /* Ensure enough space for animation */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quest-badge-reward .badge {
            margin: auto; /* Center the badge */
            border: none; /* Explicitly remove border */
            box-shadow: none; /* Explicitly remove box-shadow */
            background-color: transparent; /* Ensure no background from the badge container */
            width: 90px; /* Larger badge */
            height: 90px; /* Larger badge */
            animation: badgeBoom 0.6s ease-out forwards; /* Booming animation */
        }

        @keyframes badgeBoom {
            0% {
                transform: scale(0.5) translateY(20px);
                opacity: 0;
                filter: drop-shadow(0 0 0 rgba(173, 255, 47, 0));
            }
            60% {
                transform: scale(1.1) translateY(-5px);
                opacity: 1;
                filter: drop-shadow(0 0 30px rgba(173, 255, 47, 0.8));
            }
            100% {
                transform: scale(1) translateY(0);
                opacity: 1;
                filter: drop-shadow(0 0 15px rgba(173, 255, 47, 0.6));
            }
        }

        .quest-badge-reward .badge img {
            width: 60px; /* Larger icon inside badge */
            height: 60px; /* Larger icon inside badge */
            background-color: transparent; /* Ensure no background from the image itself */
        }

        /* Individual task styling (Daily and Weekly) */
        .quest-task-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .quest-task-item {
            background: #0d1117; /* Dark background as per image */
            border: 1px solid rgba(0, 255, 127, 0.3); /* Neon green border as per image */
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            cursor: pointer;
            backdrop-filter: blur(8px);
            box-shadow: 0 0 10px rgba(0, 255, 127, 0.2); /* Initial subtle glow */
            position: relative; /* For checkmark positioning */
        }

        /* Smooth click effect for task items */
        .quest-task-item:active {
            transform: scale(0.98); /* Subtle press effect */
            box-shadow: 0 0 5px rgba(0, 255, 127, 0.8); /* Intense glow on press */
        }

        .quest-task-item:hover {
            background-color: #161b22; /* Slightly lighter on hover */
            border-color: #00ff7f; /* Brighter neon border on hover */
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(0, 255, 127, 0.6); /* Stronger glow on hover */
        }

        .quest-task-item.completed-task {
            opacity: 0.6;
            text-decoration: line-through;
            border-color: rgba(52, 211, 153, 0.5);
            background-color: rgba(52, 211, 153, 0.05);
            pointer-events: none; /* Make unclickable when completed */
            box-shadow: 0 0 10px rgba(52, 211, 153, 0.3); /* Faded glow when completed */
        }

        .quest-task-item .task-icon {
            font-size: 1.5rem;
            color: #00bfff;
            flex-shrink: 0;
        }

        .quest-task-item .task-text {
            flex-grow: 1;
            font-size: 0.95rem;
        }

        .quest-task-item .task-xp {
            font-weight: 600;
            color: #adff2f;
            flex-shrink: 0;
        }

        /* Custom Checkbox Styling to match image */
        .custom-checkbox {
            appearance: none; /* Hide default checkbox */
            width: 24px;
            height: 24px;
            border: 2px solid #00ff7f; /* Neon green border */
            border-radius: 50%; /* Circular */
            background-color: transparent;
            cursor: pointer;
            position: relative;
            flex-shrink: 0;
            transition: all 0.2s ease;
            box-shadow: 0 0 8px rgba(0, 255, 127, 0.4); /* Neon glow */
        }

        .custom-checkbox:hover {
            border-color: #adff2f; /* Yellow-green on hover */
            box-shadow: 0 0 15px rgba(173, 255, 47, 0.6); /* Stronger glow on hover */
        }

        .custom-checkbox:checked {
            background-color: #00ff7f; /* Solid green when checked */
            border-color: #00ff7f;
            box-shadow: 0 0 15px rgba(0, 255, 127, 0.8); /* Intense glow when checked */
        }

        .custom-checkbox:checked::after {
            content: '\f00c'; /* Font Awesome checkmark */
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            font-size: 14px; /* Smaller checkmark */
            color: #000; /* Black checkmark for contrast */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Hide default checkbox and apply custom styling */
        .quest-task-item input[type="checkbox"] {
            display: none; /* Hide the actual checkbox */
        }

        .quest-task-item label {
            display: flex; /* Allow label content to be flexible */
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
            flex-grow: 1;
            color: #E0E0E0; /* Ensure text color is visible */
        }

        .quest-task-item label strong {
            color: #00ff7f; /* Neon green for the bold part */
            font-weight: 600;
        }


        .quest-task-item .checkmark-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            color: rgba(52, 211, 153, 0.8); /* Green checkmark */
            text-shadow: 0 0 15px rgba(52, 211, 153, 0.9);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .quest-task-item.completed-task .checkmark-overlay {
            opacity: 1;
        }


        /* Responsive adjustments */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column; /* Stack columns */
                gap: 2rem;
            }

            .left-column {
                min-width: unset; /* Remove min-width to allow full flexibility */
                width: 100%;
            }

            .top-nav {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }

            .nav-left, .nav-right {
                width: 100%;
                justify-content: center;
            }

            /* Reset alignment for stacked columns */
            .right-column .section:first-child {
                margin-top: 0;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .top-nav {
                padding: 0.8rem;
                margin-bottom: 2rem; /* Kept for spacing, not in strict header snippet but for layout */
            }

            .main-title {
                font-size: 2.5rem;
            }

            h2 {
                font-size: 1.4rem;
                margin-bottom: 1.2rem;
            }

            .quest-task-list {
                grid-template-columns: 1fr; /* Stack tasks */
            }

            .quest-progress-section {
                padding: 1.5rem;
            }

            .claim-button {
                padding: 0.8rem 1rem;
                font-size: 1rem;
                max-width: 80%; /* Adjust for smaller screens if needed */
            }

            .quest-badge-reward .badge {
                width: 70px; /* Smaller on mobile */
                height: 70px; /* Smaller on mobile */
            }
            .quest-badge-reward .badge img {
                width: 45px; /* Smaller icon on mobile */
                height: 45px; /* Smaller icon on mobile */
            }
        }
    </style>
</head>
<body>
    <div class="top-nav">
        <div class="nav-left">
            <a href="#" class="nav-icon-link" aria-label="Go Back"><i class="fas fa-arrow-left"></i></a>
            <a href="#" class="nav-icon-link" aria-label="Home"><i class="fas fa-home"></i></a>
            <a href="#" class="profile-pic-nav-link" aria-label="Profile">
                <div class="profile-pic-nav">
                    <i class="fas fa-user"></i>
                </div>
            </a>
        </div>
        <div class="nav-right">
             <div class="player-stats">
                <span id="player-level">Level 1</span>
                <div class="xp-bar">
                    <div class="xp-fill" style="width: 0%;"></div>
                </div>
                <span id="player-xp-text">0 / 100 XP</span>
            </div>
        </div>
    </div>

    <div class="container-wrapper">
        <header class="page-header">
            <h1 class="main-title">Your Quests</h1>
            <p>Complete your tasks to level up and earn rewards!</p>
        </header>

        <div class="container">
            <div class="left-column">
                <div class="quest-progress-section">
                    <div class="quest-progress-header">
                        <h3>Daily Quests</h3>
                        <span class="cooldown-timer" id="daily-cooldown-timer"></span>
                    </div>
                    <div class="quest-progress-bar">
                        <div class="quest-progress-fill" id="daily-quest-progress-fill"></div>
                    </div>
                    <div class="quest-progress-text" id="daily-quest-progress-text">0/3 Completed</div>
                    <button class="claim-button" id="claim-daily-reward" disabled>Claim Daily Badge</button>
                    <div class="quest-badge-reward" id="daily-reward-badge-display">
                        </div>

                    <div class="quest-task-list" id="daily-tasks-list">
                        <div class="quest-task-item" data-xp="20" data-quest-type="daily">
                            <input type="checkbox" id="daily-task-1" class="custom-checkbox">
                            <label for="daily-task-1">
                                <div class="task-icon"><i class="fas fa-book-open"></i></div>
                                <div class="task-text">Study Session</div>
                                <div class="task-xp">+20 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="15" data-quest-type="daily">
                            <input type="checkbox" id="daily-task-2" class="custom-checkbox">
                            <label for="daily-task-2">
                                <div class="task-icon"><i class="fas fa-users"></i></div>
                                <div class="task-text">Socialize</div>
                                <div class="task-xp">+15 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="30" data-quest-type="daily">
                            <input type="checkbox" id="daily-task-3" class="custom-checkbox">
                            <label for="daily-task-3">
                                <div class="task-icon"><i class="fas fa-dumbbell"></i></i></div>
                                <div class="task-text">Workout</div>
                                <div class="task-xp">+30 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                    </div>
                </div>

                <div class="quest-progress-section">
                    <div class="quest-progress-header">
                        <h3>Weekly Quests</h3>
                        <span class="cooldown-timer" id="weekly-cooldown-timer"></span>
                    </div>
                    <div class="quest-progress-bar">
                        <div class="quest-progress-fill" id="weekly-quest-progress-fill"></div>
                    </div>
                    <div class="quest-progress-text" id="weekly-quest-progress-text">0/7 Completed</div>
                    <button class="claim-button" id="claim-weekly-reward" disabled>Claim Weekly Badge</button>
                    <div class="quest-badge-reward" id="weekly-reward-badge-display">
                        </div>

                    <div class="quest-task-list" id="weekly-tasks-list">
                        <div class="quest-task-item" data-xp="50" data-quest-type="weekly">
                            <input type="checkbox" id="weekly-task-1" class="custom-checkbox">
                            <label for="weekly-task-1">
                                <div class="task-icon"><i class="fas fa-brain"></i></div>
                                <div class="task-text"><strong>Mindful Monday:</strong> Complete a 10-minute guided meditation.</div>
                                <div class="task-xp">+50 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="40" data-quest-type="weekly">
                            <input type="checkbox" id="weekly-task-2" class="custom-checkbox">
                            <label for="weekly-task-2">
                                <div class="task-icon"><i class="fas fa-comments"></i></div>
                                <div class="task-text"><strong>Talk It Out Tuesday:</strong> Have a meaningful conversation.</div>
                                <div class="task-xp">+40 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="45" data-quest-type="weekly">
                            <input type="checkbox" id="weekly-task-3" class="custom-checkbox">
                            <label for="weekly-task-3">
                                <div class="task-icon"><i class="fas fa-heartbeat"></i></div>
                                <div class="task-text"><strong>Wellness Wednesday:</strong> Read about mental health.</div>
                                <div class="task-xp">+45 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="35" data-quest-type="weekly">
                            <input type="checkbox" id="weekly-task-4" class="custom-checkbox">
                            <label for="weekly-task-4">
                                <div class="task-icon"><i class="fas fa-hand-holding-heart"></i></div>
                                <div class="task-text"><strong>Thankful Thursday:</strong> Write 3 things you're grateful for.</div>
                                <div class="task-xp">+35 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="60" data-quest-type="weekly">
                            <input type="checkbox" id="weekly-task-5" class="custom-checkbox">
                            <label for="weekly-task-5">
                                <div class="task-icon"><i class="fas fa-running"></i></div>
                                <div class="task-text"><strong>Fitness Friday:</strong> Do a 20-minute physical activity.</div>
                                <div class="task-xp">+60 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="40" data-quest-type="weekly">
                            <input type="checkbox" id="weekly-task-6" class="custom-checkbox">
                            <label for="weekly-task-6">
                                <div class="task-icon"><i class="fas fa-share-alt"></i></div>
                                <div class="task-text"><strong>Social Saturday:</strong> Send a sticker or message to 3 friends checking on their current status.</div>
                                <div class="task-xp">+40 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                        <div class="quest-task-item" data-xp="55" data-quest-type="weekly">
                            <input type="checkbox" id="weekly-task-7" class="custom-checkbox">
                            <label for="weekly-task-7">
                                <div class="task-icon"><i class="fas fa-spa"></i></div>
                                <div class="task-text"><strong>Self-Care Sunday:</strong> Do one act of self-care. Like, skincare, journaling or digital detox.</div>
                                <div class="task-xp">+55 XP</div>
                            </label>
                            <div class="checkmark-overlay"><i class="fas fa-check-circle"></i></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const xpFill = document.querySelector('.xp-fill');
            const playerLevelSpan = document.getElementById('player-level');
            const playerXpTextSpan = document.getElementById('player-xp-text');

            let currentXP = 0;
            let level = 1;
            let xpToNextLevel = 100;

            // Quest data and state (simplified for this example, could be loaded from an API/config)
            const dailyQuestsData = [
                { id: 'daily1', text: 'Study Session', xp: 20, icon: 'fas fa-book-open' },
                { id: 'daily2', text: 'Socialize', xp: 15, icon: 'fas fa-users' },
                { id: 'daily3', text: 'Workout', xp: 30, icon: 'fas fa-dumbbell' }
            ];
            const weeklyQuestsData = [
                { id: 'weekly1', text: '<strong>Mindful Monday:</strong> Complete a 10-minute guided meditation.', xp: 50, icon: 'fas fa-brain' },
                { id: 'weekly2', text: '<strong>Talk It Out Tuesday:</strong> Have a meaningful conversation.', xp: 40, icon: 'fas fa-comments' },
                { id: 'weekly3', text: '<strong>Wellness Wednesday:</strong> Read about mental health.', xp: 45, icon: 'fas fa-heartbeat' },
                { id: 'weekly4', text: '<strong>Thankful Thursday:</strong> Write 3 things you\'re grateful for.', xp: 35, icon: 'fas fa-hand-holding-heart' },
                { id: 'weekly5', text: '<strong>Fitness Friday:</strong> Do a 20-minute physical activity.', xp: 60, icon: 'fas fa-running' },
                { id: 'weekly6', text: '<strong>Social Saturday:</strong> Send a sticker or message to 3 friends checking on their current status.', xp: 40, icon: 'fas fa-share-alt' },
                { id: 'weekly7', text: '<strong>Self-Care Sunday:</strong> Do one act of self-care. Like, skincare, journaling or digital detox.', xp: 55, icon: 'fas fa-spa' }
            ];

            let completedDaily = 0;
            let completedWeekly = 0;

            const totalDaily = dailyQuestsData.length;
            const totalWeekly = weeklyQuestsData.length;

            const dailyProgressBarFill = document.getElementById('daily-quest-progress-fill');
            const dailyProgressBarText = document.getElementById('daily-quest-progress-text');
            const claimDailyButton = document.getElementById('claim-daily-reward');
            const dailyRewardBadgeDisplay = document.getElementById('daily-reward-badge-display');
            const dailyCooldownTimer = document.getElementById('daily-cooldown-timer');
            const dailyTasksList = document.getElementById('daily-tasks-list');

            const weeklyProgressBarFill = document.getElementById('weekly-quest-progress-fill');
            const weeklyProgressBarText = document.getElementById('weekly-quest-progress-text');
            const claimWeeklyButton = document.getElementById('claim-weekly-reward');
            const weeklyRewardBadgeDisplay = document.getElementById('weekly-reward-badge-display');
            const weeklyCooldownTimer = document.getElementById('weekly-cooldown-timer');
            const weeklyTasksList = document.getElementById('weekly-tasks-list');

            // Pre-defined badges for claiming
            const dailyRewardBadgeHTML = '<div class="badge"><img src="https://api.iconify.design/twemoji/1st-place-medal.svg" alt="Daily Quest Trophy"></div>';
            const weeklyRewardBadgeHTML = '<div class="badge"><img src="https://api.iconify.design/emojione/sports-medal.svg" alt="Weekly Quest Medal"></div>';

            // Cooldown variables (reset on page reload/code refresh)
            let lastDailyClaimTime = 0;
            let lastWeeklyClaimTime = 0;

            // Cooldown constants (in milliseconds)
            const DAILY_COOLDOWN_MS = 24 * 60 * 60 * 1000; // 24 hours
            const WEEKLY_COOLDOWN_MS = 7 * 24 * 60 * 60 * 1000; // 7 days

            // Function to format time for display
            function formatTime(ms) {
                const seconds = Math.floor((ms / 1000) % 60);
                const minutes = Math.floor((ms / (1000 * 60)) % 60);
                const hours = Math.floor((ms / (1000 * 60 * 60)) % 24);
                const days = Math.floor(ms / (1000 * 60 * 60 * 24));

                let timeString = '';
                if (days > 0) timeString += `${days}d `;
                if (hours > 0) timeString += `${hours}h `;
                if (minutes > 0) timeString += `${minutes}m `;
                timeString += `${seconds}s`;
                return timeString.trim();
            }

            // Function to update main XP bar and level
            function updatePlayerStats() {
                let xpPercentage = (currentXP / xpToNextLevel) * 100;
                xpFill.style.width = `${xpPercentage}%`;
                playerLevelSpan.textContent = `Level ${level}`;
                playerXpTextSpan.textContent = `${currentXP} / ${xpToNextLevel} XP`;

                while (currentXP >= xpToNextLevel) {
                    level++;
                    currentXP -= xpToNextLevel;
                    xpToNextLevel = Math.floor(xpToNextLevel * 1.5);
                    updatePlayerStats();
                }
            }

            // Function to update a specific quest progress bar and handle cooldown
            function updateQuestProgressBar(type) {
                let completedCount, totalCount, progressBarFill, progressBarText, claimButton, cooldownTimerElement, tasksListElement, claimTimeRef, cooldownDuration;

                if (type === 'daily') {
                    completedCount = completedDaily;
                    totalCount = totalDaily;
                    progressBarFill = dailyProgressBarFill;
                    progressBarText = dailyProgressBarText;
                    claimButton = claimDailyButton;
                    cooldownTimerElement = dailyCooldownTimer;
                    tasksListElement = dailyTasksList;
                    claimTimeRef = lastDailyClaimTime; // Use the local variable directly
                    cooldownDuration = DAILY_COOLDOWN_MS;
                } else if (type === 'weekly') {
                    completedCount = completedWeekly;
                    totalCount = totalWeekly;
                    progressBarFill = weeklyProgressBarFill;
                    progressBarText = weeklyProgressBarText;
                    claimButton = claimWeeklyButton;
                    cooldownTimerElement = weeklyCooldownTimer;
                    tasksListElement = weeklyTasksList;
                    claimTimeRef = lastWeeklyClaimTime; // Use the local variable directly
                    cooldownDuration = WEEKLY_COOLDOWN_MS;
                }

                const percentage = (completedCount / totalCount) * 100;
                progressBarFill.style.width = `${percentage}%`;
                progressBarText.textContent = `${completedCount}/${totalCount} Completed`;

                const now = Date.now();
                let timeLeft = 0;

                if (claimTimeRef) {
                    timeLeft = Math.max(0, cooldownDuration - (now - claimTimeRef));
                }

                // Clear any existing interval to prevent multiple timers
                if (cooldownTimerElement.intervalId) {
                    clearInterval(cooldownTimerElement.intervalId);
                }

                if (timeLeft > 0) {
                    // On cooldown
                    claimButton.disabled = true;
                    tasksListElement.style.pointerEvents = 'none'; // Disable clicking tasks
                    tasksListElement.style.opacity = '0.7'; // Visually indicate disabled
                    cooldownTimerElement.textContent = `Cooldown: ${formatTime(timeLeft)}`;

                    // Set up interval to update timer
                    cooldownTimerElement.intervalId = setInterval(() => {
                        let currentClaimTime;
                        if (type === 'daily') currentClaimTime = lastDailyClaimTime;
                        else currentClaimTime = lastWeeklyClaimTime;

                        const newTimeLeft = Math.max(0, cooldownDuration - (Date.now() - currentClaimTime));
                        if (newTimeLeft <= 0) {
                            clearInterval(cooldownTimerElement.intervalId);
                            cooldownTimerElement.textContent = '';
                            updateQuestProgressBar(type); // Re-evaluate state
                        } else {
                            cooldownTimerElement.textContent = `Cooldown: ${formatTime(newTimeLeft)}`;
                        }
                    }, 1000);
                } else {
                    // Not on cooldown
                    cooldownTimerElement.textContent = '';
                    tasksListElement.style.pointerEvents = 'auto'; // Enable clicking tasks
                    tasksListElement.style.opacity = '1'; // Reset opacity
                    if (completedCount === totalCount) {
                        claimButton.disabled = false;
                    } else {
                        claimButton.disabled = true;
                    }
                }
            }

            // Handle individual daily task clicks
            document.querySelectorAll('#daily-tasks-list .quest-task-item').forEach(item => {
                const checkbox = item.querySelector('.custom-checkbox');
                item.addEventListener('click', function(event) {
                    // Prevent event from bubbling if checkbox itself was clicked
                    if (event.target === checkbox) {
                        return;
                    }
                    // Toggle checkbox state if the item (or its label) was clicked
                    checkbox.checked = !checkbox.checked;
                    const changeEvent = new Event('change');
                    checkbox.dispatchEvent(changeEvent); // Manually trigger change event
                });

                checkbox.addEventListener('change', function() {
                    const item = this.closest('.quest-task-item');
                    if (this.checked && !item.classList.contains('completed-task')) {
                        item.classList.add('completed-task');
                        completedDaily++;
                        currentXP += parseInt(item.dataset.xp);
                        updatePlayerStats();
                        updateQuestProgressBar('daily');
                    } else if (!this.checked && item.classList.contains('completed-task')) {
                        // This path will only be taken if a completed task is somehow unchecked,
                        // which is prevented by pointer-events: none; but good for robustness.
                        item.classList.remove('completed-task');
                        completedDaily--; // Decrement if unchecked
                        currentXP -= parseInt(item.dataset.xp); // Subtract XP
                        updatePlayerStats();
                        updateQuestProgressBar('daily');
                    }
                });
            });


            // Handle individual weekly task clicks
            document.querySelectorAll('#weekly-tasks-list .quest-task-item').forEach(item => {
                const checkbox = item.querySelector('.custom-checkbox');
                item.addEventListener('click', function(event) {
                    // Prevent event from bubbling if checkbox itself was clicked
                    if (event.target === checkbox) {
                        return;
                    }
                    // Toggle checkbox state if the item (or its label) was clicked
                    checkbox.checked = !checkbox.checked;
                    const changeEvent = new Event('change');
                    checkbox.dispatchEvent(changeEvent); // Manually trigger change event
                });

                checkbox.addEventListener('change', function() {
                    const item = this.closest('.quest-task-item');
                    if (this.checked && !item.classList.contains('completed-task')) {
                        item.classList.add('completed-task');
                        completedWeekly++;
                        currentXP += parseInt(item.dataset.xp);
                        updatePlayerStats();
                        updateQuestProgressBar('weekly');
                    } else if (!this.checked && item.classList.contains('completed-task')) {
                        item.classList.remove('completed-task');
                        completedWeekly--; // Decrement if unchecked
                        currentXP -= parseInt(item.dataset.xp); // Subtract XP
                        updatePlayerStats();
                        updateQuestProgressBar('weekly');
                    }
                });
            });

            // Handle Claim Daily Reward button click
            claimDailyButton.addEventListener('click', () => {
                if (!claimDailyButton.disabled) {
                    // Award the daily badge (temporarily displayed)
                    dailyRewardBadgeDisplay.innerHTML = dailyRewardBadgeHTML;

                    // Reset daily quests and start cooldown
                    completedDaily = 0;
                    lastDailyClaimTime = Date.now(); // Set local variable for cooldown
                    document.querySelectorAll('#daily-tasks-list .quest-task-item').forEach(item => {
                        item.classList.remove('completed-task');
                        item.querySelector('.custom-checkbox').checked = false; // Uncheck the checkbox
                    });
                    updateQuestProgressBar('daily'); // This will re-disable the button and start timer
                }
            });

            // Handle Claim Weekly Reward button click
            claimWeeklyButton.addEventListener('click', () => {
                if (!claimWeeklyButton.disabled) {
                    // Award the weekly badge (temporarily displayed)
                    weeklyRewardBadgeDisplay.innerHTML = weeklyRewardBadgeHTML;

                    // Reset weekly quests and start cooldown
                    completedWeekly = 0;
                    lastWeeklyClaimTime = Date.now(); // Set local variable for cooldown
                    document.querySelectorAll('#weekly-tasks-list .quest-task-item').forEach(item => {
                        item.classList.remove('completed-task');
                        item.querySelector('.custom-checkbox').checked = false; // Uncheck the checkbox
                    });
                    updateQuestProgressBar('weekly'); // This will re-disable the button and start timer
                }
            });

            // Initial updates
            updatePlayerStats();
            updateQuestProgressBar('daily');
            updateQuestProgressBar('weekly');
        });
    </script>
</body>
</html>
